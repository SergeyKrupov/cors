<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebKit Crash Test</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.1);
            padding: 40px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            margin-bottom: 20px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .warning {
            background: rgba(255, 0, 0, 0.2);
            border: 2px solid #ff6b6b;
            padding: 20px;
            border-radius: 10px;
            margin: 30px 0;
            font-size: 1.1em;
        }
        
        .crash-button {
            background: linear-gradient(45deg, #ff6b6b, #ee5a52);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            font-weight: bold;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .crash-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        
        .crash-button:active {
            transform: translateY(0);
        }
        
        .method-description {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-size: 0.9em;
            text-align: left;
        }
        
        footer {
            margin-top: 40px;
            opacity: 0.7;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚ö†Ô∏è WebKit Crash Test ‚ö†Ô∏è</h1>
        
        <div class="warning">
            <strong>–í–ù–ò–ú–ê–ù–ò–ï!</strong><br>
            –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –∫—Ä–∞—à—É –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ WebKit.<br>
            –í—Å–µ –Ω–µ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ—Ç–µ—Ä—è–Ω—ã!
        </div>
        
        <div class="method-description">
            <strong>–ú–µ—Ç–æ–¥ 1: Memory Exhaustion</strong><br>
            –°–æ–∑–¥–∞–µ—Ç –æ–≥—Ä–æ–º–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã –≤ –ø–∞–º—è—Ç–∏ –¥–æ –∏—Å—á–µ—Ä–ø–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
        </div>
        <button class="crash-button" onclick="memoryExhaustionCrash()">
            üí• Memory Crash
        </button>
        
        <div class="method-description">
            <strong>–ú–µ—Ç–æ–¥ 2: Infinite Recursion</strong><br>
            –ó–∞–ø—É—Å–∫–∞–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—É—é —Ä–µ–∫—É—Ä—Å–∏—é —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º DOM —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        </div>
        <button class="crash-button" onclick="recursionCrash()">
            üîÑ Recursion Crash
        </button>
        
        <div class="method-description">
            <strong>–ú–µ—Ç–æ–¥ 3: DOM Overflow</strong><br>
            –°–æ–∑–¥–∞–µ—Ç –º–∏–ª–ª–∏–æ–Ω—ã DOM —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
        </div>
        <button class="crash-button" onclick="domOverflowCrash()">
            üìÑ DOM Crash
        </button>
        
        <div class="method-description">
            <strong>–ú–µ—Ç–æ–¥ 4: Canvas Memory Bomb</strong><br>
            –°–æ–∑–¥–∞–µ—Ç –æ–≥—Ä–æ–º–Ω—ã–π canvas –∏ –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–ø–æ–ª–Ω–∏—Ç—å –µ–≥–æ –¥–∞–Ω–Ω—ã–º–∏
        </div>
        <button class="crash-button" onclick="canvasCrash()">
            üé® Canvas Crash
        </button>
        
        <div class="method-description">
            <strong>–ú–µ—Ç–æ–¥ 5: Ultimate Crash</strong><br>
            –ö–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç –≤—Å–µ –º–µ—Ç–æ–¥—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫—Ä–∞—à–∞
        </div>
        <button class="crash-button" onclick="ultimateCrash()" style="background: linear-gradient(45deg, #000, #ff0000); font-size: 1.4em;">
            üíÄ ULTIMATE CRASH üíÄ
        </button>
        
        <footer>
            –°–æ–∑–¥–∞–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ WebKit<br>
            –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫!
        </footer>
    </div>

    <script>
        // –ú–µ—Ç–æ–¥ 1: –ò—Å—á–µ—Ä–ø–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ —á–µ—Ä–µ–∑ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–≥—Ä–æ–º–Ω—ã—Ö –º–∞—Å—Å–∏–≤–æ–≤
        function memoryExhaustionCrash() {
            console.log("–ó–∞–ø—É—Å–∫ Memory Exhaustion –∫—Ä–∞—à–∞...");
            
            try {
                // –°–æ–∑–¥–∞–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ –±–æ–ª—å—à–∏—Ö –º–∞—Å—Å–∏–≤–æ–≤
                let arrays = [];
                let strings = [];
                
                for (let i = 0; i < 1000; i++) {
                    // –°–æ–∑–¥–∞–µ–º –æ–≥—Ä–æ–º–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã
                    arrays.push(new Array(10000000).fill(Math.random()));
                    
                    // –°–æ–∑–¥–∞–µ–º –æ–≥—Ä–æ–º–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
                    strings.push('x'.repeat(10000000));
                    
                    // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç—ã —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —Å–≤–æ–π—Å—Ç–≤
                    let obj = {};
                    for (let j = 0; j < 100000; j++) {
                        obj['prop' + j] = new Array(1000).fill(Math.random());
                    }
                    arrays.push(obj);
                }
            } catch (e) {
                console.log("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏—Å—á–µ—Ä–ø–∞–Ω–∏–∏ –ø–∞–º—è—Ç–∏:", e);
            }
        }
        
        // –ú–µ—Ç–æ–¥ 2: –ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è —Ä–µ–∫—É—Ä—Å–∏—è —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º DOM —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        function recursionCrash() {
            console.log("–ó–∞–ø—É—Å–∫ Recursion –∫—Ä–∞—à–∞...");
            
            function infiniteRecursion(depth = 0) {
                // –°–æ–∑–¥–∞–µ–º DOM —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ —Ä–µ–∫—É—Ä—Å–∏–∏
                let div = document.createElement('div');
                div.innerHTML = 'Depth: ' + depth;
                div.style.display = 'none';
                document.body.appendChild(div);
                
                // –°–æ–∑–¥–∞–µ–º –º–∞—Å—Å–∏–≤—ã –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ
                let arr = new Array(10000).fill(depth);
                
                // –ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è —Ä–µ–∫—É—Ä—Å–∏—è
                return infiniteRecursion(depth + 1) + infiniteRecursion(depth + 1);
            }
            
            infiniteRecursion();
        }
        
        // –ú–µ—Ç–æ–¥ 3: –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ DOM
        function domOverflowCrash() {
            console.log("–ó–∞–ø—É—Å–∫ DOM Overflow –∫—Ä–∞—à–∞...");
            
            // –°–æ–∑–¥–∞–µ–º –º–∏–ª–ª–∏–æ–Ω—ã DOM —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            for (let i = 0; i < 10000000; i++) {
                let div = document.createElement('div');
                div.className = 'crash-element-' + i;
                div.innerHTML = `<span>Element ${i}</span><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" style="width:${Math.random()*1000}px;height:${Math.random()*1000}px;">`;
                
                // –î–æ–±–∞–≤–ª—è–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
                for (let j = 0; j < 100; j++) {
                    div.setAttribute('data-attr-' + j, 'value-' + j + '-' + Math.random());
                }
                
                document.body.appendChild(div);
                
                // –°–æ–∑–¥–∞–µ–º event listeners
                div.addEventListener('click', function() {
                    console.log('Clicked element', i);
                });
            }
        }
        
        // –ú–µ—Ç–æ–¥ 4: Canvas –∫—Ä–∞—à
        function canvasCrash() {
            console.log("–ó–∞–ø—É—Å–∫ Canvas –∫—Ä–∞—à–∞...");
            
            try {
                // –°–æ–∑–¥–∞–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–≥—Ä–æ–º–Ω—ã—Ö canvas —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                for (let i = 0; i < 100; i++) {
                    let canvas = document.createElement('canvas');
                    canvas.width = 32767; // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä
                    canvas.height = 32767;
                    canvas.style.display = 'none';
                    document.body.appendChild(canvas);
                    
                    let ctx = canvas.getContext('2d');
                    
                    // –ü—ã—Ç–∞–µ–º—Å—è –∑–∞–ø–æ–ª–Ω–∏—Ç—å –≤–µ—Å—å canvas
                    let imageData = ctx.createImageData(canvas.width, canvas.height);
                    for (let j = 0; j < imageData.data.length; j += 4) {
                        imageData.data[j] = Math.floor(Math.random() * 256);     // R
                        imageData.data[j + 1] = Math.floor(Math.random() * 256); // G
                        imageData.data[j + 2] = Math.floor(Math.random() * 256); // B
                        imageData.data[j + 3] = 255; // A
                    }
                    ctx.putImageData(imageData, 0, 0);
                }
            } catch (e) {
                console.log("Canvas –æ—à–∏–±–∫–∞:", e);
            }
        }
        
        // –ú–µ—Ç–æ–¥ 5: –£–ª—å—Ç–∏–º–∞—Ç–∏–≤–Ω—ã–π –∫—Ä–∞—à - –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤
        function ultimateCrash() {
            console.log("üî• –ó–ê–ü–£–°–ö –£–õ–¨–¢–ò–ú–ê–¢–ò–í–ù–û–ì–û –ö–†–ê–®–ê! üî•");
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ –º–µ—Ç–æ–¥—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
            setTimeout(memoryExhaustionCrash, 0);
            setTimeout(recursionCrash, 100);
            setTimeout(domOverflowCrash, 200);
            setTimeout(canvasCrash, 300);
            
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫—Ä–∞—à-–º–µ—Ç–æ–¥—ã
            setTimeout(() => {
                // –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª
                while (true) {
                    document.createElement('div').innerHTML = 'x'.repeat(1000000);
                }
            }, 400);
            
            setTimeout(() => {
                // WebGL –∫—Ä–∞—à
                try {
                    let canvas = document.createElement('canvas');
                    let gl = canvas.getContext('webgl');
                    for (let i = 0; i < 10000; i++) {
                        gl.createTexture();
                        gl.createBuffer();
                        gl.createProgram();
                    }
                } catch (e) {
                    console.log("WebGL –æ—à–∏–±–∫–∞:", e);
                }
            }, 500);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –∫—Ä–∞—à–µ–º
            document.body.innerHTML = `
                <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
                           background: red; color: white; display: flex; align-items: center; 
                           justify-content: center; font-size: 4em; z-index: 9999;">
                    üíÄ CRASHING... üíÄ
                </div>
            `;
        }
        
        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫—Ä–∞—à –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
        // window.addEventListener('load', function() {
        //     console.log("–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫—Ä–∞—à —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥...");
        //     setTimeout(ultimateCrash, 5000);
        // });
        
        console.log("WebKit Crash Test –∑–∞–≥—Ä—É–∂–µ–Ω. –ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã!");
    </script>
</body>
</html>
